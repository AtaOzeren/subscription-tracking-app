{
    "swagger": "2.0",
    "info": {
        "contact": {},
        "description": "Clerk-based authentication API collection for WebinarMaker backend. Authentication flow: 1) Register via Clerk API, 2) Accept tenant invitation, 3) Login via Clerk API to get session token",
        "title": "WebinarMaker API Collection",
        "version": "1.0.0"
    },
    "host": "localhost:5001",
    "basePath": "/",
    "schemes": [
        "http"
    ],
    "paths": {
        "/": {
            "get": {
                "parameters": [],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "tags": [
                    "System"
                ],
                "description": "API Info",
                "operationId": "apiInfo",
                "summary": "API Info"
            }
        },
        "/api/auth/clerk-callback": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "properties": {
                                "clerkUserId": {
                                    "example": "",
                                    "type": "string"
                                },
                                "email": {
                                    "example": "",
                                    "type": "string"
                                },
                                "firstName": {
                                    "example": "",
                                    "type": "string"
                                },
                                "lastName": {
                                    "example": "",
                                    "type": "string"
                                },
                                "tenant": {
                                    "example": "",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "tags": [
                    "Authentication"
                ],
                "description": "DEPRECATED: This endpoint is kept for backward compatibility but should not be used for new implementations. Use 'Register User (Clerk API)' instead.",
                "operationId": "clerkCallbackDeprecated",
                "summary": "Clerk Callback (Deprecated)"
            }
        },
        "/api/auth/clerk-login": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "properties": {
                                "email": {
                                    "example": "john.doe@example.com",
                                    "type": "string"
                                },
                                "password": {
                                    "example": "SecurePassword123!",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "tags": [
                    "Authentication"
                ],
                "description": "Step 2: Login with Clerk credentials. Returns a Clerk session token that should be used for all authenticated requests. Note: User must have accepted a tenant invitation first.",
                "operationId": "2LoginUserClerkApi",
                "summary": "2. Login User (Clerk API)"
            }
        },
        "/api/auth/clerk-register": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "properties": {
                                "email": {
                                    "example": "john.doe@example.com",
                                    "type": "string"
                                },
                                "firstName": {
                                    "example": "John",
                                    "type": "string"
                                },
                                "lastName": {
                                    "example": "Doe",
                                    "type": "string"
                                },
                                "password": {
                                    "example": "SecurePassword123!",
                                    "type": "string"
                                },
                                "tenant": {
                                    "example": "Acme Corp",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "tags": [
                    "Authentication"
                ],
                "description": "Step 1: Register as tenant owner. If tenant doesn't exist, it will be created and you become the owner. If tenant exists, you must be invited by the owner.",
                "operationId": "1RegisterUserClerkApi",
                "summary": "1. Register User (Clerk API)"
            }
        },
        "/api/employees": {
            "get": {
                "parameters": [
                    {
                        "description": "Filter by role (owner, admin, editor)",
                        "in": "query",
                        "name": "role",
                        "type": "string"
                    },
                    {
                        "description": "Filter by active status (true, false)",
                        "in": "query",
                        "name": "isActive",
                        "type": "string"
                    },
                    {
                        "description": "Search across firstName, lastName, and email",
                        "in": "query",
                        "name": "search",
                        "type": "string"
                    },
                    {
                        "description": "Sort field (firstName, lastName, email, role, isActive, createdAt, updatedAt)",
                        "in": "query",
                        "name": "sortBy",
                        "type": "string"
                    },
                    {
                        "description": "Sort direction (asc, desc)",
                        "in": "query",
                        "name": "sortOrder",
                        "type": "string"
                    },
                    {
                        "description": "Page number",
                        "in": "query",
                        "name": "page",
                        "type": "string"
                    },
                    {
                        "description": "Items per page",
                        "in": "query",
                        "name": "limit",
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "tags": [
                    "Employee Management"
                ],
                "description": "üîç **Flexible Employees API**\\n\\nThis single request supports all filtering, sorting, and pagination options. Use environment variables to customize the query.\\n\\n**üìã Available Parameters:**\\n- `role`: Filter by role (owner, admin, editor)\\n- `isActive`: Filter by active status (true, false)\\n- `search`: Search across firstName, lastName, and email\\n- `sortBy`: Sort field (firstName, lastName, email, role, isActive, createdAt, updatedAt)\\n- `sortOrder`: Sort direction (asc, desc)\\n- `page`: Page number (default: 1)\\n- `limit`: Items per page (default: 20, max: 100)\\n\\n**üí° Usage Examples:**\\n```\\n// Filter by admin role\\nSet employeeRole = \"admin\"\\n\\n// Search for users\\nSet searchTerm = \"john\"\\n\\n// Sort by name\\nSet sortBy = \"firstName\", sortOrder = \"asc\"\\n\\n// Combine everything\\nSet employeeRole = \"admin\", searchTerm = \"john\", sortBy = \"lastName\", sortOrder = \"desc\", page = \"1\", limit = \"10\"\\n```\\n\\n**üîß Environment Variables:**\\n- `employeeRole`: Role filter\\n- `employeeStatus`: Active status filter\\n- `searchTerm`: Search term\\n- `sortBy`: Sort field\\n- `sortOrder`: Sort direction\\n- `page`: Page number\\n- `limit`: Page limit",
                "operationId": "getEmployeesFlexible",
                "summary": "Get Employees (Flexible)"
            }
        },
        "/api/employees/invite": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "properties": {
                                "email": {
                                    "example": "new.employee@example.com",
                                    "type": "string"
                                },
                                "role": {
                                    "example": "editor",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "tags": [
                    "Employee Management"
                ],
                "description": "Invite Employee",
                "operationId": "inviteEmployee",
                "summary": "Invite Employee"
            }
        },
        "/api/employees/{employeeId}": {
            "parameters": [
                {
                    "in": "path",
                    "name": "employeeId",
                    "required": true,
                    "type": "string"
                }
            ],
            "delete": {
                "parameters": [],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "tags": [
                    "Employee Management"
                ],
                "description": "Delete Employee",
                "operationId": "deleteEmployee",
                "summary": "Delete Employee"
            }
        },
        "/api/employees/{employeeId}/role": {
            "parameters": [
                {
                    "in": "path",
                    "name": "employeeId",
                    "required": true,
                    "type": "string"
                }
            ],
            "put": {
                "consumes": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "properties": {
                                "role": {
                                    "example": "admin",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "tags": [
                    "Employee Management"
                ],
                "description": "Update Employee Role",
                "operationId": "updateEmployeeRole",
                "summary": "Update Employee Role"
            }
        },
        "/api/invitations/{invitationToken}/accept": {
            "parameters": [
                {
                    "in": "path",
                    "name": "invitationToken",
                    "required": true,
                    "type": "string"
                }
            ],
            "post": {
                "consumes": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "properties": {
                                "clerkUserId": {
                                    "example": "",
                                    "type": "string"
                                },
                                "firstName": {
                                    "example": "",
                                    "type": "string"
                                },
                                "lastName": {
                                    "example": "",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "tags": [
                    "Invitations"
                ],
                "description": "Accept a tenant invitation. The invitation token is provided in the invitation link sent by the tenant owner. After accepting, the user can login using the Clerk Login endpoint.",
                "operationId": "acceptInvitation",
                "summary": "Accept Invitation"
            }
        },
        "/api/invitations/{invitationToken}/decline": {
            "parameters": [
                {
                    "in": "path",
                    "name": "invitationToken",
                    "required": true,
                    "type": "string"
                }
            ],
            "post": {
                "parameters": [],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "tags": [
                    "Invitations"
                ],
                "description": "Decline a tenant invitation. This will remove the invitation from the system.",
                "operationId": "declineInvitation",
                "summary": "Decline Invitation"
            }
        },
        "/api/profile": {
            "get": {
                "parameters": [],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "tags": [
                    "Profile"
                ],
                "description": "Get Profile",
                "operationId": "getProfile",
                "summary": "Get Profile"
            },
            "put": {
                "consumes": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "properties": {
                                "firstName": {
                                    "example": "John Updated",
                                    "type": "string"
                                },
                                "lastName": {
                                    "example": "Doe Updated",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "tags": [
                    "Profile"
                ],
                "description": "Update Profile",
                "operationId": "updateProfile",
                "summary": "Update Profile"
            }
        },
        "/api/tenants": {
            "get": {
                "parameters": [
                    {
                        "description": "Filter employees by role (owner, admin, editor)",
                        "in": "query",
                        "name": "role",
                        "type": "string"
                    },
                    {
                        "description": "Filter employees by active status (true, false)",
                        "in": "query",
                        "name": "isActive",
                        "type": "string"
                    },
                    {
                        "description": "Search across employee firstName, lastName, and email",
                        "in": "query",
                        "name": "search",
                        "type": "string"
                    },
                    {
                        "description": "Sort field (firstName, lastName, email, role, isActive, createdAt, updatedAt)",
                        "in": "query",
                        "name": "sortBy",
                        "type": "string"
                    },
                    {
                        "description": "Sort direction (asc, desc)",
                        "in": "query",
                        "name": "sortOrder",
                        "type": "string"
                    },
                    {
                        "description": "Page number for pagination",
                        "in": "query",
                        "name": "page",
                        "type": "string"
                    },
                    {
                        "description": "Items per page for pagination",
                        "in": "query",
                        "name": "limit",
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "tags": [
                    "Tenant Management"
                ],
                "description": "üè¢ **Flexible Tenant API**\\n\\nGets tenant information with flexible filtering and sorting for embedded employees. Uses the same environment variables as the Employees API.\\n\\n**üìã Available Parameters:**\\n- `role`: Filter employees by role (owner, admin, editor)\\n- `isActive`: Filter employees by active status (true, false)\\n- `search`: Search across employee firstName, lastName, and email\\n- `sortBy`: Sort employees by field (firstName, lastName, email, role, isActive, createdAt, updatedAt)\\n- `sortOrder`: Sort direction (asc, desc)\\n- `page`: Page number for employee pagination (default: 1)\\n- `limit`: Items per page for employee pagination (default: 20, max: 100)\\n\\n**üí° Usage Examples:**\\n```\\n// Get tenant with only admin employees\\nSet employeeRole = \"admin\"\\n\\n// Get tenant with active employees sorted by name\\nSet employeeStatus = \"true\", sortBy = \"firstName\", sortOrder = \"asc\"\\n\\n// Search tenant employees\\nSet searchTerm = \"john\"\\n```\\n\\n**üîß Response:**\\nReturns tenant object with employees array and employeePagination metadata when pagination is used.",
                "operationId": "getTenantFlexible",
                "summary": "Get Tenant (Flexible)"
            },
            "put": {
                "consumes": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "body",
                        "name": "body",
                        "schema": {
                            "properties": {
                                "domain": {
                                    "example": "acme.com",
                                    "type": "string"
                                },
                                "logo": {
                                    "example": "https://example.com/logo.png",
                                    "type": "string"
                                },
                                "name": {
                                    "example": "Acme Corp Updated",
                                    "type": "string"
                                },
                                "settings": {
                                    "example": "{\"theme\": \"dark\", \"timezone\": \"UTC\"}",
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "tags": [
                    "Tenant Management"
                ],
                "description": "Update Tenant",
                "operationId": "updateTenant",
                "summary": "Update Tenant"
            }
        },
        "/health": {
            "get": {
                "parameters": [],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "tags": [
                    "System"
                ],
                "description": "Health Check",
                "operationId": "healthCheck",
                "summary": "Health Check"
            }
        }
    },
    "tags": [
        {
            "name": "Authentication"
        },
        {
            "name": "Profile"
        },
        {
            "name": "Tenant Management"
        },
        {
            "name": "Employee Management"
        },
        {
            "name": "Invitations"
        },
        {
            "name": "System"
        }
    ]
}